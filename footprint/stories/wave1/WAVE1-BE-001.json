{
  "id": "WAVE1-BE-001",
  "title": "Upload API",
  "domain": "backend",
  "priority": "P0",
  "wave": 1,
  "status": "complete",
  "objective": {
    "as_a": "frontend application",
    "i_want": "to upload images to cloud storage via API",
    "so_that": "images are persisted and accessible for transformation"
  },
  "acceptance_criteria": [
    {"id": "AC-001", "description": "POST /api/upload accepts multipart form data", "status": "complete"},
    {"id": "AC-002", "description": "Validates file type server-side (JPEG, PNG, HEIC)", "status": "complete"},
    {"id": "AC-003", "description": "Validates file size server-side (max 20MB)", "status": "complete"},
    {"id": "AC-004", "description": "Uploads to Cloudflare R2 storage", "status": "complete"},
    {"id": "AC-005", "description": "Returns signed URL for uploaded image", "status": "complete"},
    {"id": "AC-006", "description": "Rate limiting: 20 requests per minute", "status": "complete"},
    {"id": "AC-007", "description": "Error responses in JSON format", "status": "complete"}
  ],
  "files": {
    "modified": [
      "app/api/upload/route.ts",
      "lib/storage/r2.ts"
    ]
  },
  "safety": {
    "stop_conditions": [
      "Safety score drops below 0.85",
      "Exposes R2 credentials",
      "Bypasses file validation"
    ]
  },
  "estimated_tokens": 12000,
  "actual_tokens": 9500,
  "dependencies": [],
  "agent_assignment": "be-dev-1",
  "completed_at": "2026-01-28T00:00:00Z"
}
