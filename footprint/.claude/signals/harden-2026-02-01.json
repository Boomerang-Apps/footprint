{
  "command": "/harden",
  "timestamp": "2026-02-01T22:45:00Z",
  "branch": "main",
  "overallScore": 78,
  "status": "WARNINGS_ONLY",
  "scores": {
    "security": 72,
    "codeQuality": 85,
    "testCoverage": 63,
    "production": 70
  },
  "blocking": [],
  "resolved": [
    {
      "category": "security",
      "issue": "Next.js 14.2.0 critical vulnerability",
      "resolution": "Updated to Next.js 14.2.35 (patched)",
      "timestamp": "2026-02-01T22:20:00Z"
    },
    {
      "category": "security",
      "issue": "glob CLI command injection (HIGH)",
      "resolution": "Updated eslint-config-next to 15.1.0 (uses fast-glob)",
      "timestamp": "2026-02-01T22:35:00Z"
    },
    {
      "category": "security",
      "issue": "fast-xml-parser RangeError DoS (HIGH)",
      "resolution": "Added pnpm override for fast-xml-parser>=5.3.4",
      "timestamp": "2026-02-01T22:35:00Z"
    }
  ],
  "warnings": [
    {
      "category": "codeQuality",
      "issue": "15 console statements in production code",
      "files": [
        "app/admin/fulfillment/page.tsx",
        "app/api/webhooks/payplus/route.ts",
        "app/api/webhooks/stripe/route.ts",
        "app/api/transform/route.ts",
        "app/api/remove-bg/route.ts"
      ]
    },
    {
      "category": "codeQuality",
      "issue": "8 components using <img> instead of next/image",
      "files": [
        "app/admin/fulfillment/page.tsx",
        "app/admin/users/[id]/page.tsx",
        "app/admin/users/page.tsx",
        "app/page.tsx",
        "components/layout/Header.tsx"
      ]
    },
    {
      "category": "production",
      "issue": "No Content-Security-Policy header configured",
      "fix": "Add CSP to next.config.js headers"
    },
    {
      "category": "production",
      "issue": "No /api/health endpoint",
      "fix": "Create health check endpoint"
    },
    {
      "category": "testCoverage",
      "issue": "Overall coverage 62.75% below 80% target",
      "current": 62.75,
      "target": 80
    }
  ],
  "passed": [
    "TypeScript compilation: 0 errors",
    "ESLint: 0 errors (8 warnings)",
    "No eval() usage",
    "No dangerouslySetInnerHTML",
    "Rate limiting implemented (Upstash)",
    ".env.example documented",
    "Build successful"
  ]
}
